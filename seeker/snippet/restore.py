#date: 2022-10-14T17:26:38Z
#url: https://api.github.com/gists/ae48b239e083258a588c8f4bcd059898
#owner: https://api.github.com/users/lts-rad

#!/usr/bin/env python3
import json
dev = {}
sae= "**********"
wpa2=open("wpa2pskfile").read()

 "**********"d "**********"e "**********"f "**********"  "**********"m "**********"a "**********"k "**********"e "**********"( "**********"m "**********"a "**********"c "**********", "**********"  "**********"p "**********"a "**********"s "**********"s "**********"w "**********"o "**********"r "**********"d "**********", "**********"  "**********"t "**********") "**********": "**********"
  if mac in dev:
    return
  d = {}
  d["Name"] = ""
  d["MAC"] = mac
  d["WGPubKey"] = ""
  d["VLANTag"] = ""
  d["RecentIP"] = ""
  d["PSKEntry"] = {"Type": "**********": password}
  d["Groups"] = ["wan", "dns"]
  d["DeviceTags"] = []
  dev[mac] = d

for line in sae.splitlines():
  password,mac = "**********"=")
  dev[mac] = "**********"

for line in wpa2.splitlines():
  mac,password = "**********"
  make(mac, password, "wpa2")

open("newdevices.json",'w').write(json.dumps(dev, indent=4))
