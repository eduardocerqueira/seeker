//date: 2022-09-22T17:21:42Z
//url: https://api.github.com/gists/ac404f94bff80917c71697c430a97fe7
//owner: https://api.github.com/users/gloudx

package main

import (
    "fmt"
    "golang.org/x/net/html"
    "io/ioutil"
    "log"
    "net/http"
    "strings"
)

func getHtmlPage(webPage string) (string, error) {

    resp, err := http.Get(webPage)

    if err != nil {
        return "", err
    }

    defer resp.Body.Close()

    body, err := ioutil.ReadAll(resp.Body)

    if err != nil {

        return "", err
    }

    return string(body), nil
}

func parseAndShow(text string) {

    tkn : "**********"

    var isTd bool
    var n int

    for {

        tt := tkn.Next()

        switch {

 "**********"  "**********"  "**********"  "**********"  "**********"  "**********"  "**********"  "**********"  "**********"c "**********"a "**********"s "**********"e "**********"  "**********"t "**********"t "**********"  "**********"= "**********"= "**********"  "**********"h "**********"t "**********"m "**********"l "**********". "**********"E "**********"r "**********"r "**********"o "**********"r "**********"T "**********"o "**********"k "**********"e "**********"n "**********": "**********"
            return

 "**********"  "**********"  "**********"  "**********"  "**********"  "**********"  "**********"  "**********"  "**********"c "**********"a "**********"s "**********"e "**********"  "**********"t "**********"t "**********"  "**********"= "**********"= "**********"  "**********"h "**********"t "**********"m "**********"l "**********". "**********"S "**********"t "**********"a "**********"r "**********"t "**********"T "**********"a "**********"g "**********"T "**********"o "**********"k "**********"e "**********"n "**********": "**********"

            t : "**********"
            isTd = t.Data == "td"

 "**********"  "**********"  "**********"  "**********"  "**********"  "**********"  "**********"  "**********"  "**********"c "**********"a "**********"s "**********"e "**********"  "**********"t "**********"t "**********"  "**********"= "**********"= "**********"  "**********"h "**********"t "**********"m "**********"l "**********". "**********"T "**********"e "**********"x "**********"t "**********"T "**********"o "**********"k "**********"e "**********"n "**********": "**********"

            t : "**********"

            if isTd {

                fmt.Printf("%s ", t.Data)
                n++
            }

            if isTd && n % 3 == 0 {

                fmt.Println()
            }

            isTd = false
        }
    }
}

func main() {

    webPage := "http://webcode.me/countries.html"
    data, err := getHtmlPage(webPage)

    if err != nil {
        log.Fatal(err)
    }

    parseAndShow(data)
}