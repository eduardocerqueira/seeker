#date: 2022-01-18T17:13:49Z
#url: https://api.github.com/gists/4a99b1de96dd8d0c72743869af6a33ac
#owner: https://api.github.com/users/Bengreen

#!/bin/bash

# Create git repos in bulk and make updloads to it

ORGANISATION=ScunkWorks
TEAM=abcdef

for name in mle-infra-apm mle-infra-kafka mle-infra-kibana mle-infra-monitoring mle-infra-postgresql mle-infra-elasticsearch mle-infra-keycloak mle-infra-minio mle-infra-mysql; do
    cd ${name}

    if gh repo view ${ORGANISATION}/$name > /dev/null 2>&1 ; then
      echo Found GH repo ${ORGANISATION}/$name
      git add .
      git commit -m "Initial commit"
      git push --set-upstream origin main
    else
      echo Create ${ORGANISATION}/$name
      gh repo create ${ORGANISATION}/${name}  --team ${TEAM} --private -d "DESCRIBE  ${name}"
      git remote add origin https://github.com/${ORGANISATION}/${name}.git
    fi

    cd ..
done

