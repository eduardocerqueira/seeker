#date: 2024-11-04T17:04:31Z
#url: https://api.github.com/gists/c93f81351ce7bb4ed947060293e6bb27
#owner: https://api.github.com/users/evgenynalivayko

#! /usr/local/bin/python

SMTPserver = 'smtp.mail.ru' #your_smtp_server_adress
sender ='your_adress@your_domain.ru' #your_smtp_server_login
destination = ['your_destination_adress@gmail.com']

USERNAME = "your_adress@your_domain.ru" #your_smtp_server_login
PASSWORD = "**********"

text_subtype = 'plain'

content="Test message"
subject="Sent from Python"

from smtplib import SMTP_SSL as SMTP       # this invokes the secure SMTP protocol (port 465, uses SSL)
# from smtplib import SMTP                  # use this for standard SMTP protocol   (port 25, no encryption)

from email.mime.text import MIMEText

msg = MIMEText(content, text_subtype)
msg['Subject'] = subject
msg['From'] = sender

conn = SMTP(SMTPserver)
conn.set_debuglevel(False)
conn.login(USERNAME, PASSWORD)
try:
    conn.sendmail(sender, destination, msg.as_string())
finally:
    conn.quit()
inally:
    conn.quit()
