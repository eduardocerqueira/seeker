#date: 2022-11-09T17:08:55Z
#url: https://api.github.com/gists/2b13007926c104e0cffd063d179ce617
#owner: https://api.github.com/users/danyg

#!/bin/bash

currentBranchName=$(git branch --show-current)
milestone=$1
backupBranchName=BACKUP/${currentBranchName}

if test -z "$milestone"; then #empty
  milestone=$(date '+%Y%m%d-%H%M%S')
fi

backupBranchName=BACKUP/${currentBranchName}/${milestone}

git branch -D ${backupBranchName}
git branch ${backupBranchName}
echo "BACKUP Branch created: ${backupBranchName}"
