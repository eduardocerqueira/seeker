#date: 2025-10-29T17:00:55Z
#url: https://api.github.com/gists/35c894b53f11c7c6382b0e71b59538a8
#owner: https://api.github.com/users/dklanac

#!/bin/bash

  # Default model (can be overridden by command line argument)
  DEFAULT_MODEL="sonnet"

  # Check if first argument is a model or a claude flag
  case "$1" in
    opus|o|sonnet|s)
      # First argument is a model
      MODEL=$1
      shift  # Remove model from arguments
      ;;
    *)
      # First argument is not a model, use default
      MODEL=$DEFAULT_MODEL
      ;;
  esac

  $(gcloud config set project gen-ai-416617)
  PROJECT_ID=$(gcloud config get project)

  # Enable Vertex AI integration
  export CLAUDE_CODE_USE_VERTEX=1
  export CLOUD_ML_REGION=us-east5
  export ANTHROPIC_VERTEX_PROJECT_ID=$PROJECT_ID

  # Optional: Disable prompt caching if not enabled
  #export DISABLE_PROMPT_CACHING=1

  # Set model based on argument
  case "$MODEL" in
    opus|o)
      export ANTHROPIC_MODEL='claude-opus-4-1'
      echo "Using Claude Opus model"
      ;;
    sonnet|s)
      export ANTHROPIC_MODEL='claude-sonnet-4-5'
      echo "Using Claude Sonnet model"
      ;;
    *)
      echo "Unknown model: $MODEL"
      echo "Usage: $0 [opus|o|sonnet|s] [claude arguments...]"
      echo "  opus, o    - Use Claude Opus"
      echo "  sonnet, s  - Use Claude Sonnet (default)"
      exit 1
      ;;
  esac

  claude "$@"

