#date: 2022-04-07T16:54:37Z
#url: https://api.github.com/gists/231a4d93f3d288ac68dacfbfebadb22e
#owner: https://api.github.com/users/ptrcnull

#!/bin/sh
export XDG_RUNTIME_DIR=/tmp/run-1000
mkdir -p $XDG_RUNTIME_DIR
chown patrycja:patrycja $XDG_RUNTIME_DIR

export MOZ_ENABLE_WAYLAND=1
export LANG="en_IE.UTF-8"
export QT_QPA_PLATFORM=wayland
export _JAVA_AWT_WM_NONREPARENTING=1
export PATH="$PATH:$HOME/.local/bin"

rm -f $XDG_RUNTIME_DIR/bus
export DBUS_SESSION_BUS_ADDRESS=unix:path=$XDG_RUNTIME_DIR/bus
dbus-daemon --session --address=$DBUS_SESSION_BUS_ADDRESS &

mkdir -p ~/.local/var/log
sway $@ 2>&1 | tee -a ~/.local/var/log/sway.log

# fallback shell
exec zsh
